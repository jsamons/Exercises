@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model List<Exercises.Models.Product>

<h2>Toy Department</h2>
<div>
    @foreach (Exercises.Models.Product product in Model)
    {
        <div class="flexbox">
            <div class="image">
                <a href="@Url.Action("Detail", "Product", new { id = product.ProductId})">
                    <img class="pic" src="~/Content/images/@product.ImageName">
                </a>
            </div>
            <div class="table">
                <table>
                    <tr>
                        <td class="name">
                            <a href="@Url.Action("Detail", "Product", new { id = product.ProductId})">
                                <strong>@product.Name</strong>
                            </a>
                            @if (product.IsTopSeller == true)
                            {
                                <span class="bestseller"><strong>Best Seller!</strong></span>
                            }
                        </td>
                    </tr>
                    @if (product.RemainingStock < 5)
                    {
                        <tr class="quantity">
                            <td>Only @product.RemainingStock left!</td>
                        </tr>
                    }
                    <tr>
                        <td class="manufacturer">by @product.Manufacturer</td>
                    </tr>
                    <tr>
                        <td class="price">$@product.Price</td>
                    </tr>
                    <tr>
                        <td class="weight">
                            <strong>WEIGHT</strong> @product.WeightIbLbs lbs
                        </td>
                    </tr>
                    <tr>

                        @if (product.AverageRating > 4.4)
                        {
                            <td>
                                <img class="rating" src="~/Content/images/5-star.png" />
                            </td>
                        }
                        else if (product.AverageRating > 3.4)
                        {
                            <td>
                                <img class="rating" src="~/Content/images/4-star.png" />
                            </td>
                        }
                        else if (product.AverageRating > 2.4)
                        {
                            <td>
                                <img class="rating" src="~/Content/images/3-star.png" />
                            </td>
                        }
                        else if (product.AverageRating > 1.4)
                        {
                            <td>
                                <img class="rating" src="~/Content/images/2-star.png" />
                            </td>
                        }
                        else
                        {
                            <td>
                                <img class="rating" src="~/Content/images/1-star.png" />
                            </td>
                        }
                    </tr>
                </table>
            </div>
        </div>
        <hr />
    }
</div>
